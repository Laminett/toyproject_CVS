{{>layout/header}}
<div class="content" id="context">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header card-header-primary">
                        <h4 class="card-title ">Product Table</h4>
                        <p class="card-category"> Here is a subtitle for this table</p>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive" id="result1">
                            <table class="table" id="templ1">
                                <thead class=" text-primary">
                                <th>ID</th>
                                <th>CATEGORY</th>
                                <th>NAME</th>
                                <th>PRICE</th>
                                <th>USEYN</th>
                                <th>CREATED_ID</th>
                                <th>CREATED_DATE</th>
                                <th>MODIFIED_ID</th>
                                <th>MODIFIED_DATE</th>
                                </thead>
                                <tbody>
                                {{#Product}}
                                <tr>
                                    <td>{{id}}</td>
                                    <td>{{categoryid}}</td>
                                    <td>{{name}}</td>
                                    <td class="text-primary">{{price}}</td>
                                    <td>{{useyn}}</td>
                                    <td>{{created_id}}</td>
                                    <td>{{created_date}}</td>
                                    <td>{{modified_id}}</td>
                                    <td>{{modified_date}}</td>
                                </tr>
                                {{/Product}}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div>
                    <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                        {{#page}}
                            <li class="page-item">
                              <a class="page-link" href =javascript:pagetest({{{.}}})>{{{.}}}</a>
                            </li>
                        {{/page}}
                    </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<script>

    function pagetest(pg){
        $.ajax({
            type: 'POST',
            url: '/api/v1/product',
            dataType: 'JSON',
            // contentType:'application/json; charset=utf-8',
            data: { page : pg }
        }).done(function(data) {
            $('tbody').empty();
            data.forEach(function (element) {
                $('tbody').append(" <tr> "
                        + "<td>" + element.id + "</td>  "
                        + "<td>" + element.categoryid + "</td> "
                        + "<td>" + element.name + "</td>"
                        + "<td class='text-primary'>" + element.price + "</td>"
                        + "<td>" + element.useyn + "</td>"
                        + "<td>" + element.created_id + "</td>"
                        + "<td>" + element.created_date + "</td>"
                        + "<td>" + element.modified_id + "</td>"
                        + "<td>" + element.modified_date + "</td>"
                        + "</tr>");
            });

        }).fail(function (error) {
            alert(JSON.stringify(error));
        });
    }

</script>
{{>layout/footer}}